<div class="search">
  <div class="container pt-2">
    <div class="row justify-content-center">
      <div class="col-lg-6 col-md-8 col-sm-10 col-xs-12">
        <scholars-search-box [view]="discoveryView | async"></scholars-search-box>
      </div>
    </div>
  </div>
</div>
<div class="document container" *ngIf="document | async; let document">

  <div *ngIf="displayView | async; let displayView">

    <div class="row mt-2">

      <div class="col-3" [innerHtml]="render(displayView.leftScanTemplate, document) | safeHtml"></div>
      <div class="col-6" [innerHtml]="render(displayView.mainContentTemplate, document) | safeHtml"></div>
      <div class="col-3" [innerHtml]="render(displayView.rightScanTemplate, document) | safeHtml"></div>

    </div>

    <div class="row mt-2">
      <div class="col-12">
        <ngb-tabset>
          <ngb-tab *ngFor="let tab of displayView.tabs | filter:{ hidden: false }" [title]="tab.name">
            <ng-template ngbTabContent>

              <div class="row m-2" *ngFor="let section of tab.sections | filter:{ hidden: false }">

                <div class="col-12">
                  <h3>{{section.name}}</h3>
                  <div [innerHtml]="render(section.template, document)"></div>
                </div>

              </div>

            </ng-template>
          </ngb-tab>
        </ngb-tabset>
      </div>
    </div>

  </div>

</div>